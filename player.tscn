[gd_scene load_steps=70 format=3 uid="uid://wp38gnqmdcqs"]

[ext_resource type="PackedScene" uid="uid://bsl1726vg27pm" path="res://assets/maria_animation_rig.blend" id="1_gdde5"]
[ext_resource type="Script" uid="uid://bk4xmmrhr0cj5" path="res://scripts/player.gd" id="1_om8sx"]
[ext_resource type="Script" uid="uid://dvvkgt736bhn3" path="res://scripts/player_components/camera_controller.gd" id="2_xg4h0"]
[ext_resource type="Script" uid="uid://ldf4sgx7md2t" path="res://scripts/components/state_machine.gd" id="3_32k0w"]
[ext_resource type="Script" uid="uid://c47rutq7bsxpd" path="res://scripts/player_components/screen_effects_manager.gd" id="3_pbfsw"]
[ext_resource type="Script" uid="uid://x75apcnqjl2" path="res://scripts/player_states/locomotion_states/walk.gd" id="5_qwe6b"]
[ext_resource type="Script" uid="uid://b6yu7tj6wh46c" path="res://scripts/player_components/animation_controller.gd" id="6_6aici"]
[ext_resource type="Script" uid="uid://1oyh5gx0tru5" path="res://scripts/player_states/locomotion_states/idle.gd" id="6_g5pys"]
[ext_resource type="Script" uid="uid://blvbyxh5ud4g0" path="res://scripts/player_states/locomotion_states/sprint.gd" id="6_xg4h0"]
[ext_resource type="Script" uid="uid://b24fwqliyuoe" path="res://scripts/player_states/locomotion_states/airborne.gd" id="8_bwjto"]
[ext_resource type="Script" uid="uid://mjbfiearrapg" path="res://scripts/player_states/combat_states/downward_slash.gd" id="8_n7ghd"]
[ext_resource type="Script" uid="uid://ba8s637itq84" path="res://scripts/player_states/combat_states/not_attacking.gd" id="8_urp6f"]
[ext_resource type="Script" uid="uid://ds5pgpcim42dg" path="res://scripts/player_states/combat_states/low_slash.gd" id="9_ivps1"]
[ext_resource type="Script" uid="uid://bq8y0x7ps1s5v" path="res://scripts/player_components/target_manager.gd" id="9_rnf4f"]
[ext_resource type="Script" uid="uid://cst66y2l1p0lc" path="res://scripts/player_states/combat_states/power_slash.gd" id="10_urp6f"]
[ext_resource type="PackedScene" uid="uid://timl11fn7e7r" path="res://components/hitbox.tscn" id="15_606se"]
[ext_resource type="PackedScene" uid="uid://cgg3yuwmr17cn" path="res://components/combat_manager.tscn" id="16_u1c27"]
[ext_resource type="Script" uid="uid://bkqea6iys40et" path="res://scripts/custom_resources/DamageData.gd" id="17_q13i1"]
[ext_resource type="Script" uid="uid://bhqmmiil3ivhf" path="res://scripts/custom_resources/Stats.gd" id="18_pylmc"]
[ext_resource type="PackedScene" uid="uid://hmbguqu4dkyv" path="res://components/hurtbox.tscn" id="19_pylmc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_om8sx"]
radius = 0.3
height = 1.4244629

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_606se"]
radius = 20.029297
height = 143.37975

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u1c27"]
animation = &"landing"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_op7ga"]
animation = &"falling_idle"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_op7ga"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rmtch"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_x7dt4"]
animation = &"run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_cjhe7"]
animation = &"walk"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_u6lhw"]
blend_point_0/node = SubResource("AnimationNodeAnimation_rmtch")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_x7dt4")
blend_point_1/pos = 2.0
blend_point_2/node = SubResource("AnimationNodeAnimation_cjhe7")
blend_point_2/pos = 1.0
min_space = 0.0
max_space = 2.0
snap = 1.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_q13i1"]
animation = &"jump_forward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pylmc"]
animation = &"jump_forward"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_pbfsw"]
blend_point_0/node = SubResource("AnimationNodeAnimation_q13i1")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_pylmc")
blend_point_1/pos = 1.0
min_space = 0.0

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_5tmop"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_q13i1"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_xg4h0"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_t84k5"]
animation = &"walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u6lhw"]
animation = &"walk_backward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ptyas"]
animation = &"walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_cymwr"]
animation = &"walk_backward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p0qc1"]
animation = &"walk_backward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_euuge"]
animation = &"strafe_right_run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_jxl7q"]
animation = &"strafe_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fmkg6"]
animation = &"strafe_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xxajq"]
animation = &"strafe_left_run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gc1eu"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rnf4f"]
animation = &"run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yu070"]
animation = &"run_backward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3q8eu"]
animation = &"walk"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_6aici"]
blend_point_0/node = SubResource("AnimationNodeAnimation_t84k5")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_u6lhw")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_euuge")
blend_point_2/pos = Vector2(2, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_jxl7q")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_fmkg6")
blend_point_4/pos = Vector2(-1, 0)
blend_point_5/node = SubResource("AnimationNodeAnimation_xxajq")
blend_point_5/pos = Vector2(-2, 0)
blend_point_6/node = SubResource("AnimationNodeAnimation_gc1eu")
blend_point_6/pos = Vector2(0, 0)
blend_point_7/node = SubResource("AnimationNodeAnimation_rnf4f")
blend_point_7/pos = Vector2(0, 2)
blend_point_8/node = SubResource("AnimationNodeAnimation_yu070")
blend_point_8/pos = Vector2(0, -2)
blend_point_9/node = SubResource("AnimationNodeAnimation_3q8eu")
blend_point_9/pos = Vector2(0.7, 0.7)
blend_point_10/node = SubResource("AnimationNodeAnimation_ptyas")
blend_point_10/pos = Vector2(-0.7, 0.7)
blend_point_11/node = SubResource("AnimationNodeAnimation_cymwr")
blend_point_11/pos = Vector2(-0.7, -0.7)
blend_point_12/node = SubResource("AnimationNodeAnimation_p0qc1")
blend_point_12/pos = Vector2(0.7, -0.7)
min_space = Vector2(-2, -2)
max_space = Vector2(2, 2)
snap = Vector2(0.5, 0.5)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_om8sx"]
graph_offset = Vector2(-110.8793, 269.5895)
nodes/output/position = Vector2(760, 200)
nodes/TargetLockBlend/node = SubResource("AnimationNodeBlend2_xg4h0")
nodes/TargetLockBlend/position = Vector2(-20, 120)
nodes/TargetLocomotion/node = SubResource("AnimationNodeBlendSpace2D_6aici")
nodes/TargetLocomotion/position = Vector2(-300, 280)
nodes/FreeRoamLocomotion/node = SubResource("AnimationNodeBlendSpace1D_u6lhw")
nodes/FreeRoamLocomotion/position = Vector2(-320, 80)
nodes/FallBlend/node = SubResource("AnimationNodeBlend2_op7ga")
nodes/FallBlend/position = Vector2(360, 180)
nodes/LandingOneShot/node = SubResource("AnimationNodeOneShot_q13i1")
nodes/LandingOneShot/position = Vector2(180, 380)
nodes/Animation/node = SubResource("AnimationNodeAnimation_op7ga")
nodes/Animation/position = Vector2(-20, 380)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_u1c27")
"nodes/Animation 2/position" = Vector2(-20, 560)
nodes/JumpOneShot/node = SubResource("AnimationNodeOneShot_5tmop")
nodes/JumpOneShot/position = Vector2(600, 260)
nodes/JumpBlendSpace/node = SubResource("AnimationNodeBlendSpace1D_pbfsw")
nodes/JumpBlendSpace/position = Vector2(400, 440)
node_connections = [&"output", 0, &"JumpOneShot", &"TargetLockBlend", 0, &"FreeRoamLocomotion", &"TargetLockBlend", 1, &"TargetLocomotion", &"FallBlend", 0, &"TargetLockBlend", &"FallBlend", 1, &"LandingOneShot", &"LandingOneShot", 0, &"Animation", &"LandingOneShot", 1, &"Animation 2", &"JumpOneShot", 0, &"FallBlend", &"JumpOneShot", 1, &"JumpBlendSpace"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_urp6f"]
animation = &"slash_downward_slash"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bwjto"]
animation = &"slash_low_slash"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_606se"]
animation = &"slash_power_slash"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_urp6f"]
advance_mode = 2

[sub_resource type="Curve" id="Curve_q13i1"]
_data = [Vector2(0, 0), 0.0, 1.0, 0, 1, Vector2(1, 1), 1.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_u1c27"]
xfade_time = 0.5
xfade_curve = SubResource("Curve_q13i1")

[sub_resource type="Curve" id="Curve_bwjto"]
_data = [Vector2(0, 0), 0.0, 1.4, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_op7ga"]
xfade_time = 0.5
xfade_curve = SubResource("Curve_bwjto")
switch_mode = 2
advance_mode = 2

[sub_resource type="Curve" id="Curve_606se"]
_data = [Vector2(0, 0), 0.0, 1.0, 0, 1, Vector2(1, 1), 1.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_q13i1"]
xfade_time = 0.5
xfade_curve = SubResource("Curve_606se")
switch_mode = 2

[sub_resource type="Curve" id="Curve_u1c27"]
_data = [Vector2(0, 0), 0.0, 1.4, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pylmc"]
xfade_time = 0.5
xfade_curve = SubResource("Curve_u1c27")
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pbfsw"]
switch_mode = 2

[sub_resource type="Curve" id="Curve_op7ga"]
_data = [Vector2(0, 0), 0.0, 1.4, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5tmop"]
xfade_time = 1.2
xfade_curve = SubResource("Curve_op7ga")
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_urp6f"]
states/Locomotion/node = SubResource("AnimationNodeBlendTree_om8sx")
states/Locomotion/position = Vector2(518, 100)
states/Start/position = Vector2(197, 100)
states/slash_downward_slash/node = SubResource("AnimationNodeAnimation_urp6f")
states/slash_downward_slash/position = Vector2(348, 226)
states/slash_low_slash/node = SubResource("AnimationNodeAnimation_bwjto")
states/slash_low_slash/position = Vector2(621, 226)
states/slash_power_slash/node = SubResource("AnimationNodeAnimation_606se")
states/slash_power_slash/position = Vector2(868, 226)
transitions = ["Start", "Locomotion", SubResource("AnimationNodeStateMachineTransition_urp6f"), "Locomotion", "slash_downward_slash", SubResource("AnimationNodeStateMachineTransition_u1c27"), "slash_downward_slash", "Locomotion", SubResource("AnimationNodeStateMachineTransition_op7ga"), "slash_downward_slash", "slash_low_slash", SubResource("AnimationNodeStateMachineTransition_q13i1"), "slash_low_slash", "Locomotion", SubResource("AnimationNodeStateMachineTransition_pylmc"), "slash_low_slash", "slash_power_slash", SubResource("AnimationNodeStateMachineTransition_pbfsw"), "slash_power_slash", "Locomotion", SubResource("AnimationNodeStateMachineTransition_5tmop")]
graph_offset = Vector2(43, 36)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_xg4h0"]
radius = 10.0

[sub_resource type="Resource" id="Resource_op7ga"]
script = ExtResource("17_q13i1")
damage_value = 21.0
metadata/_custom_type_script = "uid://bkqea6iys40et"

[sub_resource type="Resource" id="Resource_q13i1"]
script = ExtResource("18_pylmc")
health = 1000.0
stamina = 25.0
armor = 10.0
metadata/_custom_type_script = "uid://bhqmmiil3ivhf"

[node name="Player" type="CharacterBody3D"]
collision_layer = 2
script = ExtResource("1_om8sx")

[node name="SpringArm3D" type="SpringArm3D" parent="." node_paths=PackedStringArray("player")]
top_level = true
spring_length = 4.0
script = ExtResource("2_xg4h0")
player = NodePath("..")
camera_smoothing = 20.0

[node name="Camera3D" type="Camera3D" parent="SpringArm3D"]
current = true
fov = 70.0
script = ExtResource("3_pbfsw")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.71223146, 0)
shape = SubResource("CapsuleShape3D_om8sx")

[node name="Visuals" type="Node3D" parent="."]

[node name="maria_animation_rig" parent="Visuals" instance=ExtResource("1_gdde5")]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Visuals/maria_animation_rig/Maria Model" index="0"]
bones/0/position = Vector3(3.5456785e-07, 1.765147, -105.246254)
bones/0/rotation = Quaternion(-0.7071068, 5.364916e-07, 6.2389205e-07, 0.7071068)
bones/1/position = Vector3(0.0046518855, 5.245316, 0.25883433)
bones/1/rotation = Quaternion(0.097475655, -0.0040545114, -0.04852744, 0.9940459)
bones/2/position = Vector3(-2.5168927e-07, 11.066819, -2.3640208e-05)
bones/2/rotation = Quaternion(0.22073455, 0.0063283574, -0.060039733, 0.9734637)
bones/3/position = Vector3(1.9064174e-06, 8.141929, 3.8976992e-05)
bones/3/rotation = Quaternion(0.31914547, 0.0044320454, -0.06020951, 0.94578093)
bones/4/rotation = Quaternion(0.014033341, 0.0396903, -0.056174926, 0.997533)
bones/5/rotation = Quaternion(0.019267473, 0.06364446, 0.014716036, 0.9976781)
bones/7/rotation = Quaternion(-0.51596963, -0.44209746, 0.5671965, -0.4654175)
bones/8/position = Vector3(1.24735625e-05, 9.143672, 3.9736028e-07)
bones/8/rotation = Quaternion(-0.12292636, -0.24130149, -0.05628587, 0.96098626)
bones/9/position = Vector3(-1.0330936e-05, 24.573862, 3.983131e-06)
bones/9/rotation = Quaternion(0.06867357, -0.0845779, 0.16360539, 0.9804916)
bones/10/position = Vector3(9.391004e-07, 23.096603, 5.214725e-06)
bones/10/rotation = Quaternion(-0.2960156, -0.07169933, 0.12684281, 0.9440047)
bones/11/position = Vector3(-2.0054934, 3.6603074, 1.5185174)
bones/11/rotation = Quaternion(0.28231525, 0.123024225, 0.19679354, 0.93082523)
bones/12/position = Vector3(-2.0384732e-05, 3.2954, -0.00013671812)
bones/12/rotation = Quaternion(-0.007349877, 0.0006584578, -0.0009216189, 0.99997234)
bones/13/position = Vector3(-1.8417828e-05, 3.5567513, 7.0884824e-05)
bones/13/rotation = Quaternion(2.0302838e-07, -8.847642e-09, -2.3958276e-07, 1)
bones/14/position = Vector3(5.364418e-06, 3.3290117, 1.9192696e-05)
bones/15/position = Vector3(-2.3266358, 11.10445, 0.22942232)
bones/15/rotation = Quaternion(0.032733366, -0.0057506873, 0.063551374, 0.9974251)
bones/16/position = Vector3(-2.0629175e-06, 2.6000543, 5.6799213e-06)
bones/16/rotation = Quaternion(0.14281985, -0.00034816237, -0.0048374557, 0.9897368)
bones/17/position = Vector3(-5.2203122e-06, 2.0000274, 8.616724e-06)
bones/17/rotation = Quaternion(1.6596441e-05, 7.8955793e-07, 0.00097034685, 0.9999995)
bones/18/position = Vector3(-3.9037504e-06, 2.4555023, 3.349485e-06)
bones/19/position = Vector3(-2.9357532e-05, 11.447535, -9.006602e-05)
bones/19/rotation = Quaternion(0.1246501, 0.006051544, -0.08618721, 0.9884318)
bones/20/position = Vector3(-1.479529e-08, 2.8999894, -2.3052062e-06)
bones/20/rotation = Quaternion(0.18972224, -0.0012864853, 0.0141213285, 0.9817354)
bones/21/position = Vector3(3.882737e-06, 2.0000365, 1.2005217e-05)
bones/21/rotation = Quaternion(7.61824e-06, -4.867321e-07, 0.00037092765, 0.99999994)
bones/22/position = Vector3(7.811265e-06, 2.2849948, 2.107111e-05)
bones/23/position = Vector3(2.2472944, 10.605581, -0.268315)
bones/23/rotation = Quaternion(0.264958, -0.013306695, -0.13088119, 0.9552436)
bones/24/position = Vector3(-5.370176e-06, 3.0000691, -1.5770422e-05)
bones/24/rotation = Quaternion(0.27552193, 0.0014865899, 0.023445243, 0.96100765)
bones/25/position = Vector3(3.5565524e-06, 2.200016, 5.9607014e-06)
bones/25/rotation = Quaternion(2.4234389e-05, -4.0058683e-07, 0.0007429342, 0.9999998)
bones/26/position = Vector3(-9.2528444e-07, 2.1861324, 1.5657835e-05)
bones/27/position = Vector3(4.0278535, 9.6281805, 0.3416568)
bones/27/rotation = Quaternion(0.29092318, -0.014064645, -0.16409326, 0.9424645)
bones/28/position = Vector3(2.9534988e-06, 2.900519, 2.08e-05)
bones/28/rotation = Quaternion(0.33615026, 0.011487397, 0.050400782, 0.9403887)
bones/29/position = Vector3(4.417499e-06, 1.2976779, -5.858141e-06)
bones/29/rotation = Quaternion(-1.175513e-05, 5.486487e-07, -0.00085773715, 0.99999964)
bones/30/position = Vector3(-3.9356823e-06, 2.0130181, 3.789255e-07)
bones/31/rotation = Quaternion(0.45365253, -0.4789707, 0.620746, 0.42362815)
bones/32/position = Vector3(-8.085338e-06, 9.143576, -2.7862461e-06)
bones/32/rotation = Quaternion(-0.07916597, 0.20878622, 0.10290337, 0.969305)
bones/33/position = Vector3(4.109777e-06, 24.573885, 8.014118e-06)
bones/33/rotation = Quaternion(0.019160088, 0.030191848, -0.24131654, 0.9697875)
bones/34/position = Vector3(-7.913787e-06, 23.096613, -1.4421905e-05)
bones/34/rotation = Quaternion(-0.31732357, 0.002167098, -0.053412195, 0.94680953)
bones/35/position = Vector3(2.005555, 3.6604078, 1.5177796)
bones/35/rotation = Quaternion(0.20183411, 0.013465751, -0.2297632, 0.951993)
bones/36/position = Vector3(1.3470577e-05, 3.295517, 6.273231e-05)
bones/36/rotation = Quaternion(0.008401266, 0.001708138, 0.1830309, 0.98306984)
bones/37/position = Vector3(-3.9756247e-05, 3.5563765, 0.000117792486)
bones/37/rotation = Quaternion(0.00010439382, 4.749716e-07, 4.7769936e-06, 1)
bones/38/position = Vector3(-1.5974043e-05, 3.3291373, -8.761832e-06)
bones/39/position = Vector3(2.3266666, 11.104386, 0.22851937)
bones/39/rotation = Quaternion(0.0395787, 0.009786988, 0.0077801486, 0.99913824)
bones/40/position = Vector3(-5.2241885e-06, 2.6000688, -3.2834405e-06)
bones/40/rotation = Quaternion(0.14729424, -6.6817614e-05, 0.007685018, 0.9890629)
bones/41/position = Vector3(-6.6642915e-06, 2.0000298, -8.960822e-06)
bones/41/rotation = Quaternion(0.00020813746, -2.642952e-08, -0.00096713344, 0.9999995)
bones/42/position = Vector3(-2.2782729e-06, 2.4554513, -1.3538792e-05)
bones/43/position = Vector3(3.8827733e-05, 11.44746, -0.0014935465)
bones/43/rotation = Quaternion(0.110956736, 0.008623792, 0.024850093, 0.9934771)
bones/44/position = Vector3(-1.9782263e-07, 2.8999941, -5.269325e-06)
bones/44/rotation = Quaternion(0.26357037, 0.0013113983, -0.016734596, 0.96449417)
bones/45/position = Vector3(2.825875e-05, 2.0000315, -7.453644e-06)
bones/45/rotation = Quaternion(3.8019747e-09, 6.8062633e-07, -0.00037154756, 0.99999994)
bones/46/position = Vector3(3.1053974e-06, 2.284985, -1.1586254e-05)
bones/47/position = Vector3(-2.247285, 10.605469, -0.26946104)
bones/47/rotation = Quaternion(0.18698096, -0.008546463, 0.06739899, 0.98001146)
bones/48/position = Vector3(6.46711e-06, 3.0000708, 6.762126e-06)
bones/48/rotation = Quaternion(0.32041892, -0.0021359983, -0.033177417, 0.9466924)
bones/49/position = Vector3(-2.125623e-05, 2.2000213, -1.844397e-06)
bones/49/rotation = Quaternion(-3.4880336e-06, 5.626383e-07, -0.0007427217, 0.9999998)
bones/50/position = Vector3(-1.822065e-06, 2.186196, 1.8836905e-05)
bones/51/position = Vector3(-4.0278487, 9.628078, 0.34057555)
bones/51/rotation = Quaternion(0.20713408, -0.011092525, 0.09215056, 0.9738997)
bones/52/position = Vector3(1.6327368e-06, 2.900615, 1.0037474e-05)
bones/52/rotation = Quaternion(0.34927684, -0.012490015, -0.06948906, 0.9343559)
bones/53/position = Vector3(-2.3594663e-05, 1.2975875, -1.8006158e-06)
bones/53/rotation = Quaternion(3.7862487e-06, -7.669633e-07, 0.0008578326, 0.99999964)
bones/54/position = Vector3(-1.0845328e-05, 2.0130043, -2.038405e-05)
bones/55/position = Vector3(9.688755, -5.685245, -1.6886238)
bones/55/rotation = Quaternion(0.12767927, 0.62577444, 0.7614671, -0.11078006)
bones/56/position = Vector3(3.3117811e-07, 43.167957, 3.3052613e-05)
bones/56/rotation = Quaternion(-0.9097422, 0.004063627, -0.011642294, 0.41499063)
bones/57/position = Vector3(6.1566825e-06, 40.817738, -7.4146938e-06)
bones/57/rotation = Quaternion(0.26381597, -0.056558527, -0.11549107, 0.95596236)
bones/58/position = Vector3(8.8104525e-07, 18.00002, -1.7598745e-07)
bones/58/rotation = Quaternion(0.5222092, -0.010691119, -0.0129640745, 0.8526519)
bones/59/position = Vector3(2.2123024e-06, 13.768201, 1.0717487e-06)
bones/60/position = Vector3(-9.688769, -5.68519, -1.6886233)
bones/60/rotation = Quaternion(-0.14040188, 0.6011099, 0.76851016, 0.16836384)
bones/61/position = Vector3(2.2971374e-06, 43.168, 3.2686024e-05)
bones/61/rotation = Quaternion(-0.91480905, -0.055669583, 0.1189953, 0.38192332)
bones/62/position = Vector3(2.1095666e-06, 40.817707, -8.525621e-06)
bones/62/rotation = Quaternion(-0.007966446, 0.066789284, 0.1621314, 0.98447406)
bones/63/position = Vector3(7.91038e-07, 17.999989, -4.3098207e-06)
bones/63/rotation = Quaternion(0.49005827, 0.008905582, 0.0125523, 0.8715539)
bones/64/position = Vector3(2.5699464e-06, 13.768163, -1.2906386e-06)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Visuals/maria_animation_rig/Maria Model/Skeleton3D" index="0"]
transform = Transform3D(0.06503925, -0.48415607, -0.8725612, 0.6648867, 0.6730628, -0.32390124, 0.74410725, -0.5590881, 0.36568433, -47.627457, 26.961712, -163.07025)
bone_name = "mixamorig_RightHand"
bone_idx = 34

[node name="Hitbox" parent="Visuals/maria_animation_rig/Maria Model/Skeleton3D/BoneAttachment3D" instance=ExtResource("15_606se")]
unique_name_in_owner = true
transform = Transform3D(-0.018086743, 0.8396522, -0.5428227, 0.2862346, 0.5245366, 0.8018299, 0.9579884, -0.14087224, -0.24982473, 58.33279, 42.668964, -7.370468)
monitorable = false

[node name="CollisionShape3D" parent="Visuals/maria_animation_rig/Maria Model/Skeleton3D/BoneAttachment3D/Hitbox" index="0"]
transform = Transform3D(0.9999926, -3.1292439e-07, 1.5441328e-06, 9.313226e-07, 0.99999917, 8.821487e-06, -6.9104135e-07, -2.413988e-06, 0.99999374, -1.5035458, 12.218964, 0.8135452)
shape = SubResource("CapsuleShape3D_606se")

[node name="LocomotionStateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("3_32k0w")
initial_state = NodePath("Walk")

[node name="Walk" type="Node" parent="LocomotionStateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("5_qwe6b")
idle_state_path = NodePath("../Idle")
sprint_state_path = NodePath("../Sprint")
airborne_state_path = NodePath("../Airborne")
player = NodePath("../..")

[node name="Sprint" type="Node" parent="LocomotionStateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("6_xg4h0")
idle_state_path = NodePath("../Idle")
walk_state_path = NodePath("../Walk")
airborne_state_path = NodePath("../Airborne")
free_speed = 3.0
target_locked_speed = 2.75
player = NodePath("../..")

[node name="Idle" type="Node" parent="LocomotionStateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("6_g5pys")
walk_state_path = NodePath("../Walk")
airborne_state_path = NodePath("../Airborne")
player = NodePath("../..")

[node name="Airborne" type="Node" parent="LocomotionStateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("8_bwjto")
idle_state_path = NodePath("../Idle")
free_speed = 2.0
target_locked_speed = 2.0
player = NodePath("../..")

[node name="CombatStateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("3_32k0w")
initial_state = NodePath("NotAttacking")
metadata/_custom_type_script = "uid://ldf4sgx7md2t"

[node name="NotAttacking" type="Node" parent="CombatStateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("8_urp6f")
downward_slash_state_path = NodePath("../DownwardSlash")
player = NodePath("../..")

[node name="DownwardSlash" type="Node" parent="CombatStateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("8_n7ghd")
low_slash_state_path = NodePath("../LowSlash")
animation_name = "slash_downward_slash"
not_attacking_state_path = NodePath("../NotAttacking")
player = NodePath("../..")

[node name="LowSlash" type="Node" parent="CombatStateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("9_ivps1")
power_slash_state_path = NodePath("../PowerSlash")
animation_name = "slash_low_slash"
not_attacking_state_path = NodePath("../NotAttacking")
player = NodePath("../..")

[node name="PowerSlash" type="Node" parent="CombatStateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("10_urp6f")
animation_name = "slash_power_slash"
not_attacking_state_path = NodePath("../NotAttacking")
player = NodePath("../..")

[node name="AnimationTree" type="AnimationTree" parent="." node_paths=PackedStringArray("player")]
unique_name_in_owner = true
root_node = NodePath("%AnimationTree/../Visuals/maria_animation_rig")
tree_root = SubResource("AnimationNodeStateMachine_urp6f")
anim_player = NodePath("../Visuals/maria_animation_rig/AnimationPlayer")
parameters/Locomotion/TargetLockBlend/blend_amount = 0.0
parameters/Locomotion/TargetLocomotion/blend_position = Vector2(0, 0)
parameters/Locomotion/FreeRoamLocomotion/blend_position = 0.0
parameters/Locomotion/FallBlend/blend_amount = 0.12
parameters/Locomotion/LandingOneShot/active = false
parameters/Locomotion/LandingOneShot/internal_active = false
parameters/Locomotion/LandingOneShot/request = 0
parameters/Locomotion/JumpOneShot/active = false
parameters/Locomotion/JumpOneShot/internal_active = false
parameters/Locomotion/JumpOneShot/request = 0
parameters/Locomotion/JumpBlendSpace/blend_position = -0.99242425
script = ExtResource("6_6aici")
player = NodePath("..")

[node name="TargetManager" type="Area3D" parent="." node_paths=PackedStringArray("player")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
script = ExtResource("9_rnf4f")
player = NodePath("..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="TargetManager"]
shape = SubResource("CylinderShape3D_xg4h0")

[node name="CombatManager" parent="." node_paths=PackedStringArray("hurtbox", "hitbox") instance=ExtResource("16_u1c27")]
damage_data = SubResource("Resource_op7ga")
stats = SubResource("Resource_q13i1")
hurtbox = NodePath("../Hurtbox")
hitbox = NodePath("../Visuals/maria_animation_rig/Maria Model/Skeleton3D/BoneAttachment3D/Hitbox")

[node name="Hurtbox" parent="." instance=ExtResource("19_pylmc")]

[connection signal="entered" from="LocomotionStateMachine/Airborne" to="AnimationTree" method="_on_airborne_entered"]
[connection signal="body_entered" from="TargetManager" to="TargetManager" method="_on_body_entered"]
[connection signal="body_exited" from="TargetManager" to="TargetManager" method="_on_body_exited"]
[connection signal="struck" from="CombatManager" to="SpringArm3D/Camera3D" method="_on_combat_manager_struck"]

[editable path="Visuals/maria_animation_rig"]
[editable path="Visuals/maria_animation_rig/Maria Model/Skeleton3D/BoneAttachment3D/Hitbox"]
